<?xml version="1.0" encoding="utf-8"?>
<!-- This URDF was automatically created by SolidWorks to URDF Exporter! Originally created by Stephen Brawner (brawner@gmail.com) 
     Commit Version: 1.6.0-4-g7f85cfe  Build Version: 1.6.7995.38578
     For more information, please see http://wiki.ros.org/sw_urdf_exporter -->
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="hero_wheel_module">

  <xacro:macro name="add_wheel" params="prefix:=11">  

  <xacro:property name="ThisPackage" value="ros2_m_hero_pkg" />
  <xacro:property name="MeshPath" value="package://${ThisPackage}/meshes/hero_wheel_module/raw" />

  <xacro:property name="mesh_extension" value="STL" />

  <!-- PREFIX BELOW IS FOR TESTING. TODO: REMOVE -->
  <!-- <xacro:property name="prefix" value = "wm1"/> -->

  <link name="${prefix}body">
    <inertial>
      <origin xyz="0.056173 0 -0.057088" rpy="0 0 0" />
      <mass value="10.64" />
      <inertia ixx="0.0025681" ixy="-4.8803E-05" ixz="-0.0005558" iyy="0.0040357" iyz="-4.8753E-05" izz="0.0025657" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="${MeshPath}/base_link.${mesh_extension}"/>
      </geometry>
      <material name="">
        <color rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="${MeshPath}/base_link.${mesh_extension}" />
      </geometry>
    </collision>
  </link>
  <link name="${prefix}left">
    <inertial>
      <origin xyz="0 0 -0.044735" rpy="0 0 0" />
      <mass value="5.7" />
      <inertia ixx="0.10868" ixy="-0.0011835" ixz="9.2131E-05" iyy="0.093396" iyz="0.0011967" izz="0.16995" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="${MeshPath}/wheel_left.${mesh_extension}" />
      </geometry>
      <material name="">
        <color rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="${MeshPath}/wheel_left.${mesh_extension}" />
      </geometry>
    </collision>
  </link>
  <joint name="${prefix}left_joint" type="continuous">
  <origin xyz="0 -0.286 0" rpy="${pi/2} 0 0" />
    <parent link="${prefix}body" />
    <child link="${prefix}left" />
    <axis xyz="0 0 1" />
    <!-- <limit lower="0" upper="0" effort="0" velocity="0" /> -->
  </joint>
  <link name="${prefix}right">
    <inertial>
      <origin xyz="0 0 -0.044734" rpy="0 0 0" />
      <mass value="5.7" />
      <inertia ixx="0.089717" ixy="-1.4747E-08" ixz="6.8276E-09" iyy="0.089717" iyz="1.1155E-08" izz="0.14746" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="${MeshPath}/wheel_right.${mesh_extension}" />
      </geometry>
      <material name="">
        <color rgba="0.82353 0.82353 1 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="${MeshPath}/wheel_right.${mesh_extension}" />
      </geometry>
    </collision>
  </link>
  <joint name="${prefix}right_joint" type="continuous">
    <origin xyz="0 0.286 0" rpy="${-pi/2} 0 0" />
    <parent link="${prefix}body" />
    <child link="${prefix}right" />
    <axis xyz="0 0 1" />
    <!-- <limit lower="0" upper="0" effort="0" velocity="0" /> -->
  </joint>

  <link name="${prefix}in"/>
  <link name="${prefix}center"/>
  <link name="${prefix}out"/>

  <joint name="${prefix}fix" type="fixed">
  <origin xyz="0 0 -0.16" rpy="0 ${pi/4} ${0}"/>
    <parent link="${prefix}in"/>
    <child link="${prefix}body"/>
  </joint>

  <joint name="${prefix}cent_fix" type="fixed">
  <origin xyz="0 0 -0.16" rpy="0 0 0"/>
    <parent link="${prefix}in"/>
    <child link="${prefix}center"/>
  </joint>

  <joint name="${prefix}cen2out" type="fixed">
  <origin xyz="0.15 0 0" rpy="0 ${pi/2} 0"/>
    <parent link="${prefix}center"/>
    <child link="${prefix}out"/>
    <axis xyz="0 0 0"/>
  </joint>
  </xacro:macro>  
</robot>
